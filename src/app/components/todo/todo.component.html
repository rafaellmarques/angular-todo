<div class="todo">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="list animate__animated animate__flipInX" *ngIf="mode == 'list'">
          <h1 class="list-title my-5">
            <i class="bi bi-list-ul"></i>
            Lista de tarefas
          </h1>
          <p *ngIf="todos.length==0"><small>Não há tarefas em sua lista!</small></p>
          <ul class="list-group">
            <li class="list-group-item" *ngFor="let todo of todos">
              <div class="d-flex align-items-center justify-content-between">
                <span>{{ todo.title }}</span>
                <div class="btn-group ps-3" role="group" aria-label="group">
                  <button type="button" class="btn btn-outline-success" *ngIf="!todo.status" (click)="markAsDone(todo)">
                    <i class="bi bi-check"></i>
                    Concluir
                  </button>
                  <button type="button" class="btn btn-outline-warning" *ngIf="todo.status" (click)="markAsUndone(todo)">
                    <i class="bi bi-check"></i>
                    Refazer
                  </button>
                  <button type="button" class="btn btn-outline-danger" (click)="remove(todo)">
                    <i class="bi bi-trash"></i>
                    Remover
                  </button>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="form animate__animated animate__flipInX" *ngIf="mode == 'add'">
          <h1 class="form-title my-5">
            <i class="bi bi-plus-lg"></i>
            Nova Tarefa
          </h1>
          <form class="form needs-validation" [formGroup]="form" novalidate>
            <div class="my-3">
              <label for="title" class="form-label">Tarefa</label>
              <div class="input-group">
                <input type="email" class="form-control" id="title" aria-describedby="titleHelp" placeholder="Título da tarefa" maxlength="60" formControlName="title" />
                <button type="button" class="btn btn-primary" [disabled]="form.invalid" (click)="add()">
                  <i class="bi bi-save"></i>
                  Salvar
                </button>
                <div class="invalid-feedback" *ngIf="form.controls.title.invalid && !form.controls.title.pristine">
                  Este campo deve conter entre 3 e 60 caracteres
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="d-flex align-itens-center justify-content-center my-5">
          <button type="button" class="btn btn-primary" (click)="changeMode('add')" *ngIf="mode=='list'">
            <i class="bi bi-plus"></i>
            Nova tarefa
          </button>
          <button type="button" class="btn btn-secondary" (click)="changeMode('list')" *ngIf="mode=='add'">
            <i class="bi bi-x"></i>
            Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
